<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Phố Ẩm Thực Babylon.js</title>
    <style>
      html, body { margin: 0; padding: 0; overflow: hidden; height: 100%; }
      canvas { width: 100%; height: 100%; display: block; }
    </style>
  </head>
  <body>
    <canvas id="renderCanvas"></canvas>

    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
    <script>
      const canvas = document.getElementById("renderCanvas");
      const engine = new BABYLON.Engine(canvas, true);

      const createScene = function () {
        const scene = new BABYLON.Scene(engine);
        scene.clearColor = new BABYLON.Color3(0.8, 0.95, 1);

        const camera = new BABYLON.ArcRotateCamera("camera", Math.PI / 2, Math.PI / 3, 30, new BABYLON.Vector3(0, 2, 0), scene);
        camera.attachControl(canvas, true);

        const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);
        light.intensity = 0.9;

        // Đường phố
        const ground = BABYLON.MeshBuilder.CreateGround("ground", { width: 50, height: 10 }, scene);
        const groundMat = new BABYLON.StandardMaterial("groundMat", scene);
        groundMat.diffuseColor = new BABYLON.Color3(0.2, 0.2, 0.2);
        ground.material = groundMat;

        // Tạo nhà hàng
        const createRestaurant = (x, name) => {
          const building = BABYLON.MeshBuilder.CreateBox(name, { width: 5, height: 4, depth: 4 }, scene);
          building.position.set(x, 2, 0);

          const buildingMat = new BABYLON.StandardMaterial(name + "_mat", scene);
          buildingMat.diffuseColor = new BABYLON.Color3(1, 0.9, 0.6);
          building.material = buildingMat;

          // Gắn bảng hiệu bằng GUI
          const plane = BABYLON.MeshBuilder.CreatePlane(name + "_label", { width: 5, height: 1 }, scene);
          plane.position = new BABYLON.Vector3(x, 5, 0);
          plane.billboardMode = BABYLON.AbstractMesh.BILLBOARDMODE_ALL;

          const advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(plane);
          const label = new BABYLON.GUI.TextBlock();
          label.text = name;
          label.color = "white";
          label.fontSize = 48;
          advancedTexture.addControl(label);
        };

        createRestaurant(-10, "Phở Bò 79");
        createRestaurant(0, "Bún Chả Hà Nội");
        createRestaurant(10, "Cơm Tấm Sài Gòn");

        return scene;
      };

      const scene = createScene();
      engine.runRenderLoop(() => scene.render());

      window.addEventListener("resize", () => engine.resize());
    </script>
  </body>
</html>
